(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[934],{7323:(e,n,r)=>{"use strict";r.d(n,{ZP:()=>y,lT:()=>k,ZC:()=>E});var t=r(319),a=r.n(t),u=r(7757),c=r.n(u),o=r(8926),i=r.n(o),s=r(3038),p=r.n(s),f=r(8655),l=r.n(f),d=r(7294),v=r(2804),m=r(9163);const g=r.p+"4081ba9e5e0af1f0a479660d34c6a431.jpeg",h=r.p+"59293c1b870db44806de02ebe5c55c71.jpeg",x=r.p+"b50af27e4815f2aca04b67a055bc5b2d.jpeg";var w,b=m.ZP.div(w||(w=l()(["\n  width: ",";\n  height: ",";\n  border: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 20px;\n"])),"300px","300px","2px dotted #000"),E=(0,v.cn)({key:"images",default:[g,h,x]}),k=(0,v.cn)({key:"filenames",default:["Sample 1.jpeg","Sample 2.jpeg","Sample 3.jpeg"]}),y=function(){var e=(0,v.FV)(E),n=p()(e,2),r=n[0],t=n[1],u=(0,v.FV)(k),o=p()(u,2),s=(o[0],o[1]),f=(0,d.useState)(!1),l=p()(f,2),m=l[0],g=l[1],h=(0,d.useRef)(null),x=function(){var e=i()(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var t=new FileReader;t.onload=function(){e(t.result)},t.onerror=r,t.readAsDataURL(n)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),w=function(){var e=i()(c().mark((function e(n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map(function(){var e=i()(c().mark((function e(n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(n);case 2:return r=e.sent,t((function(e){var n=e.length+1;return[].concat(a()(e),[r]).slice(Math.max(n-8,0))})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=function(e){e.preventDefault();var n=e.dataTransfer.files;if(console.log("Files: ",n),0===n.length)return!1;var r=n[0],t=r.size,u=r.type;if(!["image/jpeg","image/jpg","image/png"].includes(u))return g("File format must be either png or jpg"),!1;if(t/1024/1024>2)return g("File size exceeded the limit of 2MB"),!1;g(!1),console.log(w(Array.from(n)));for(var c=[],o=0;o<n.length;o++){if(!n[o].name)return;c.push(n[o].name)}s((function(e){var n=e.length+c.length;return[].concat(a()(e),c).slice(Math.max(n-8,0))}))},j=function(e){console.log("onDragEnter"),e.preventDefault()},D=function(e){console.log("onDragLeave"),e.preventDefault()},F=function(e){console.log("onDragOver"),e.preventDefault()};return(0,d.useEffect)((function(){if(console.log("DropArea useEffect is called"),h.current){var e=h.current;e.addEventListener("dragenter",j),e.addEventListener("dragleave",D),e.addEventListener("dragover",F),e.addEventListener("drop",y)}return function(){if(h.current){var e=h.current;e.removeEventListener("dragenter",j),e.removeEventListener("dragleave",D),e.removeEventListener("dragover",F),e.removeEventListener("drop",y)}}}),[]),d.createElement("div",null,m&&d.createElement("p",null,m),d.createElement(b,{ref:h},"Drag images here"),d.createElement("div",{className:"button-wrapper"},r&&d.createElement("button",{onClick:function(){t([]),s([])}},"Remove All")),d.createElement("h5",{style:{marginTop:"15px"}},"Maximum ",8," images"))}},9822:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>x,predictionsAtom:()=>h});var t,a,u=r(3038),c=r.n(u),o=r(7757),i=r.n(o),s=r(8926),p=r.n(s),f=r(7294),l=r(3329),d=r(2804),v=r(7323),m=function(){var e=p()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.FBF("https://cnn-repo.s3.ap-east-1.amazonaws.com/models/tfjs/model.json");case 2:return t=e.sent,console.log(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=p()(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var t=new Image;t.src=n,t.onload=function(){e(t)}})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=(0,d.cn)({key:"predictions",default:[]}),x=function(){a=(0,d.sJ)(v.ZC);var e=(0,d.FV)(h),n=c()(e,2),r=(n[0],n[1]),u=function(){var e=p()(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("predict"),console.log(n),e.next=4,Promise.all(n.map(function(){var e=p()(i().mark((function e(n){var r,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(n);case 2:return r=e.sent,a=l.Xhn.nX(r).resizeNearestNeighbor([224,224]).toFloat().expandDims(),e.next=6,t.predict(a).data();case 6:return u=e.sent,e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())).then((function(e){r(e)}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,f.useEffect)((function(){t?u(a):m().then((function(){u(a)}))}),[a]),f.createElement("div",null)}},3906:()=>{},2993:()=>{},8352:()=>{},4589:()=>{},1758:()=>{}}]);
//# sourceMappingURL=934.82979f85.map