(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[934],{7323:(e,n,t)=>{"use strict";t.d(n,{ZP:()=>D,lT:()=>k,ZC:()=>E});var r=t(319),a=t.n(r),o=t(7757),c=t.n(o),u=t(8926),i=t.n(u),s=t(3038),l=t.n(s),p=t(8655),f=t.n(p),m=t(7294),g=t(2804),v=t(9163);const d=t.p+"4081ba9e5e0af1f0a479660d34c6a431.jpeg",h=t.p+"59293c1b870db44806de02ebe5c55c71.jpeg",w=t.p+"b50af27e4815f2aca04b67a055bc5b2d.jpeg";var b,x=v.ZP.div(b||(b=f()(["\n  width: ",";\n  height: ",";\n  border: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 20px;\n  white-space: pre-line;\n"])),"300px","300px","2px dotted #000"),y=30,E=(0,g.cn)({key:"images",default:[d,h,w]}),k=(0,g.cn)({key:"filenames",default:["Sample 1.jpeg","Sample 2.jpeg","Sample 3.jpeg"]}),D=function(){var e=(0,g.FV)(E),n=l()(e,2),t=n[0],r=n[1],o=(0,g.FV)(k),u=l()(o,2),s=(u[0],u[1]),p=(0,m.useState)(!1),f=l()(p,2),v=f[0],d=f[1],h=(0,m.useRef)(null),w=function(){var e=i()(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=t,r.readAsDataURL(n)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=function(){var e=i()(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map(function(){var e=i()(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(n);case 2:return t=e.sent,r((function(e){var n=e.length+1;return n>y?e:[].concat(a()(e),[t]).slice(Math.max(n-y,0))})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),D=function(){var e=i()(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var o=new Image;o.src=n,o.crossOrigin="anonymous",o.onload=function(){e(o),r((function(e){var t=e.length+1;return t>y?e:[].concat(a()(e),[n]).slice(Math.max(t-y,0))})),d("")},o.onerror=function(){console.log("onerror"),t(o),d("File format must be either png or jpg, not hyperlink or else!")}})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),j=function(e){e.preventDefault();var n=e.dataTransfer.getData("url"),t=e.dataTransfer.files;if(console.log("imageUrl: ",n),console.log("files: ",t),null!==n&&0!==n.length&&D(n),0===t.length)return!1;var r=t[0],o=r.size,c=r.type;if(!["image/jpeg","image/jpg","image/png"].includes(c))return d("File format must be either png or jpg"),!1;if(o/1024/1024>2)return d("File size exceeded the limit of 2MB"),!1;d(!1),console.log(b(Array.from(t)));for(var u=[],i=0;i<t.length;i++){if(!t[i].name)return;u.push(t[i].name)}s((function(e){var n=e.length+u.length;return n>y?e:[].concat(a()(e),u).slice(Math.max(n-y,0))}))},L=function(e){console.log("onDragEnter"),e.preventDefault()},F=function(e){console.log("onDragLeave"),e.preventDefault()},S=function(e){console.log("onDragOver"),e.preventDefault()},P=(0,m.useState)(""),T=l()(P,2),C=T[0],z=T[1];return(0,m.useEffect)((function(){if(console.log("DropArea useEffect is called"),h.current){var e=h.current;e.addEventListener("dragenter",L),e.addEventListener("dragleave",F),e.addEventListener("dragover",S),e.addEventListener("drop",j)}return function(){if(h.current){var e=h.current;e.removeEventListener("dragenter",L),e.removeEventListener("dragleave",F),e.removeEventListener("dragover",S),e.removeEventListener("drop",j)}}}),[]),m.createElement("div",null,v&&m.createElement("p",null,v),m.createElement(x,{ref:h},"Drag images here (from local\n\nfilesystem or browser window)"),m.createElement("form",{onSubmit:function(e){e.preventDefault(),D(C)}},m.createElement("label",{style:{whiteSpace:"pre"}},"Image URL:  ",m.createElement("input",{type:"text",value:C,onChange:function(e){z(e.target.value)}})),m.createElement("input",{type:"submit",value:"Submit"})),m.createElement("div",{className:"button-wrapper",style:{marginTop:"15px"}},t&&m.createElement("button",{onClick:function(){r([]),s([])}},"Remove All")),m.createElement("h5",{style:{marginTop:"20px"}},"Maximum ",y," images"))}},9822:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>x,predictionsAtom:()=>b});var r,a,o=t(319),c=t.n(o),u=t(3038),i=t.n(u),s=t(7757),l=t.n(s),p=t(8926),f=t.n(p),m=t(7294),g=t(3329),v=t(2804),d=t(7323),h=function(){var e=f()(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.FBF("https://cnn-repo.s3.ap-east-1.amazonaws.com/models/tfjs/model.json");case 2:return r=e.sent,console.log(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=f()(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var r=new Image;r.src=n,r.crossOrigin="anonymous",r.onload=function(){e(r)}})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=(0,v.cn)({key:"predictions",default:[]}),x=function(){a=(0,v.sJ)(d.ZC);var e=(0,v.FV)(b),n=i()(e,2),t=n[0],o=n[1],u=(0,m.useState)(0),s=i()(u,2),p=s[0],x=s[1],y=function(){var e=f()(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("predict"),console.log(n.slice(p)),e.next=4,Promise.all(n.slice(p).map(function(){var e=f()(l().mark((function e(n){var t,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(n);case 2:return t=e.sent,a=g.Xhn.nX(t).resizeNearestNeighbor([224,224]).toFloat().expandDims(),e.next=6,r.predict(a).data();case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())).then((function(e){0==n.length||n.length<t.length?o(e):o([].concat(c()(t),c()(e))),x(n.length),console.log("Time: "+Date.now())}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){r?(console.log("Time: "+Date.now()),y(a),console.log(g.N_N())):h().then((function(){y(a)}))}),[a]),m.createElement("div",null)}},3906:()=>{},2993:()=>{},8352:()=>{},4589:()=>{},1758:()=>{}}]);
//# sourceMappingURL=934.b6e01462.map