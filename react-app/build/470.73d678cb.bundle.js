(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[470],{9470:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>F});var t,a,o=r(8655),u=r.n(o),c=r(7294),i=r(2804),l=r(319),s=r.n(l),f=r(7757),p=r.n(f),d=r(8926),v=r.n(d),m=r(3038),g=r.n(m),E={width:300,height:300,border:"2px dotted #000"},h=(0,i.cn)({key:"images",default:[]}),w=(0,i.cn)({key:"filenames",default:[]}),x=function(){var e=(0,i.FV)(h),n=g()(e,2),r=n[0],t=n[1],a=(0,i.FV)(w),o=g()(a,2),u=o[0],l=o[1],f=(0,c.useState)(!1),d=g()(f,2),m=d[0],x=d[1],y=(0,c.useRef)(null),k=function(){var e=v()(p().mark((function e(n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var t=new FileReader;t.onload=function(){e(t.result)},t.onerror=r,t.readAsDataURL(n)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=function(){var e=v()(p().mark((function e(n){var r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map(function(){var e=v()(p().mark((function e(n){var r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(n);case 2:return r=e.sent,t((function(e){return[].concat(s()(e),[r])})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),L=function(e){e.preventDefault();var n=e.dataTransfer.files;if(console.log("Files: ",n),0===n.length)return!1;var r=n[0],t=r.size,a=r.type;if(!["image/jpeg","image/jpg","image/png"].includes(a))return x("File format must be either png or jpg"),!1;if(t/1024/1024>2)return x("File size exceeded the limit of 2MB"),!1;x(!1),console.log(b(Array.from(n)));for(var o=[],c=0;c<n.length;c++){if(!n[c].name)return;o.push(n[c].name)}l((function(e){return[].concat(s()(e),o)})),console.log([].concat(s()(u),o))},D=function(e){console.log("onDragEnter"),e.preventDefault()},F=function(e){console.log("onDragLeave"),e.preventDefault()},R=function(e){console.log("onDragOver"),e.preventDefault()};return(0,c.useEffect)((function(){if(console.log("DropArea useEffect is called"),y.current){var e=y.current;e.addEventListener("dragenter",D),e.addEventListener("dragleave",F),e.addEventListener("dragover",R),e.addEventListener("drop",L)}return function(){var e=y.current;e.removeEventListener("dragenter",D),e.removeEventListener("dragleave",F),e.removeEventListener("dragover",R),e.removeEventListener("drop",L)}}),[y.current]),c.createElement("div",null,m&&c.createElement("p",null,m),c.createElement("div",{style:E,ref:y}),c.createElement("div",{className:"button-wrapper"},r&&c.createElement("button",{onClick:function(){t([]),l([])}},"Remove All")))},y=r(9163),k={width:300,height:300},b=y.ZP.div(t||(t=u()(["\n    display: flex;\n    flex-direction: column-reverse;\n"]))),L=y.ZP.div(a||(a=u()(["\n    display: flex;\n    flex-direction: column;\n    padding-top: 10px;\n    padding-bottom: 10px;\n"]))),D=(0,i.nZ)({key:"imageRows",get:function(e){var n,r=e.get,t=r(h),a=r(w);return n=a,t.map((function(e,r){return[e,n[r]]}))}});const F=function(){var e=(0,i.sJ)(D);return console.log(e),c.createElement("div",null,c.createElement(x,null),c.createElement(b,null,e.map((function(e){return c.createElement(L,null,c.createElement("img",{style:k,src:e[0]}),c.createElement("div",null,e[1]))}))))}}}]);
//# sourceMappingURL=470.7f77a8cb.map